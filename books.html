<!DOCTYPE html>
<html>
<head>
    <title>All Books</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        table {
            border-collapse: collapse;
            width: 80%;
            margin: auto;
        }
        th, td {
            border: 1px solid #444;
            padding: 8px;
            text-align: center;
        }
        h2 {
            text-align: center;
        }
    </style>
</head>
<body>
    {% include 'navbar.html' %}
    <h2>Library Book List</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Genre</th>
            <th>Year</th>
            <th>Copies</th>
            {% if session['role'] == 'librarian' %}
            <th>Actions</th>
            {% endif %}
        </tr>

        {% for book in books %}
        <tr>
            <td>{{ book[0] }}</td>
            <td>{{ book[1] }}</td>
            <td>{{ book[2] }}</td>
            <td>{{ book[3] }}</td>
            <td>{{ book[4] }}</td>
            <td>{{ book[5] }}</td>

            {% if session['role'] == 'librarian' %}
            <td>
                <a href="/update_book/{{ book[0] }}">Edit</a> |
                <a href="/delete_book/{{ book[0] }}">Delete</a>
            </td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>

    <p style="text-align: center;"><a href="{{ url_for('dashboard') }}">Back to Dashboard</a></p>
</body>
</html>
